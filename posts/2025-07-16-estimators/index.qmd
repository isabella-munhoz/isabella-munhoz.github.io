---
title: "E esse estimador a√≠?"
description: "Entendendo um pouco mais sobre par√¢metros, estimadores e estimativas"
author: Isabella Munhoz
date: 2025-07-16
#categories: [categoria-teste] # self-defined categories
image: 2025-07-16-capa.jpeg
draft: false # true: post n√£o aparece no site (√© considerado rascunho)
---

::: {style="width: 100%; height: 250px; overflow: hidden; margin-bottom: 1rem;"}
<img src="2025-07-16-capa.jpeg" alt="Imagem de capa" style="width: 100%; object-fit: cover; object-position: center;"/>
:::

```{r}

library(dplyr)
library(ggplot2)
library(kableExtra)

my_options <- options(
  scipen = 999
)

mk_tbl <- function(data, table_title) {
  data |> 
    kable(caption = table_title, format = "html") |> 
    kable_styling(
      bootstrap_options = c("striped", "hover", "condensed", "responsive"),
      full_width = FALSE,
      position = "center"
    ) |> 
    # para gerar uma tabela que n√£o ocupe a p√°gina toda e fique no meio
    scroll_box(width = "60%", extra_css = "margin: 0 auto;") 
}

```

# Motiva√ß√£o

Me lembro como se fosse hoje de uma das primeiras crises que tive quando comecei a estudar estat√≠stica pra valer: foi em uma aula de Infer√™ncia sobre par√¢metros, estimadores e estimativas, que corria muito bem at√© o momento em que a professora disse *"ent√£o, a m√©dia amostral √© o melhor estimador da m√©dia populacional."*

Bom, eu n√£o consigo imaginar como uma afirma√ß√£o dessas reverbera em um aluno com a forma√ß√£o em alguma √°rea de exatas... Mas, pra mim, que tive uma forma√ß√£o em biol√≥gicas/sa√∫de, essa frase gerou uma sequ√™ncia de pensamentos \[e emo√ß√µes\]:

> √â √≥bvio que a m√©dia amostral √© a melhor forma de estimar a m√©dia populacional... \[aff üôÑ\]

> Mas calma... se para calcular a m√©dia populacional, somamos todos os elementos e dividimos pelo *N* populacional, o jeito de calcular a m√©dia amostral n√£o √© somando todos os elementos da amostra e dividindo pelo *n* amostral? \[a vida n√£o √© direta assim? üëÄ\]

> Tem algum outro jeito de estimar a m√©dia populacional que n√£o seja usando a m√©dia amostral? \[n√£o, n√©?! üò¨\]

> Para estimar par√¢metros como a m√©dia, vari√¢ncia ou desvio-padr√£o de uma popula√ß√£o, n√£o bastaria simplesmente aplicar as mesmas f√≥rmulas usadas para a popula√ß√£o, mas utilizando os dados da amostra? \[üò±üò±üò±\]

Todos os questionamentos que passaram pela minha mente foram angustiantes... Por um bom tempo eu nem conseguia organizar essas d√∫vidas de forma que pudesse formular as perguntas certas... Infelizmente, muitos professores de exatas t√™m pouca sensibilidade para explicar conceitos que, para eles, s√£o √≥bvios. E, quando migramos de √°rea, entender esses conceitos iniciais √© essencial para construir uma base s√≥lida para todos os outros mil conceitos que vir√£o pela frente.

Depois de buscar diferentes professores, videoaulas e livros para entender essa afirma√ß√£o \[supostamente t√£o simples\] feita pela minha professora de Infer√™ncia, percebi algo valioso: um dos melhores caminhos para consolidar um bom racioc√≠nio em estat√≠stica √© simular dados de uma popula√ß√£o (ou seja, desenhar uma popula√ß√£o com par√¢metros conhecidos) e observar como as amostras extra√≠das dessa popula√ß√£o se comportam. Quando conseguimos visualizar, de forma concreta, aquilo que antes era apenas um conceito abstrato, tudo come√ßa a fazer mais sentido. E √© exatamente essa a proposta deste post: explicar, de maneira visual e pr√°tica, alguns conceitos que tanto me angustiaram l√° atr√°s. Vamos ver, a partir de uma popula√ß√£o fict√≠cia, como as defini√ß√µes de par√¢metros, estimadores e estimativas se conectam.

# Introdu√ß√£o

Antes de come√ßar o m√£o na massa, vamos dar uns passos atr√°s e recapitular o objetivo da Infer√™ncia Estat√≠stica...

Imagine que voc√™ √© l√≠der de um pa√≠s e precisa desenvolver pol√≠ticas p√∫blicas voltadas ao trabalho informal. Para isso, entender alguns dados sobre como o trabalho informal se distribui pela popula√ß√£o √© essencial para orientar suas decis√µes e garantir que as medidas propostas sejam eficazes e bem direcionadas. Por exemplo, quantos habitantes do pa√≠s possuem um trabalho informal? Quanto, em m√©dia, esses habitantes ganham mensalmente realizando atividades informais? O trabalho informal √©, em geral, a principal atividade das fam√≠lias? Com as respostas dessas perguntas em m√£os, fica mais f√°cil pra voc√™, como tomador de decis√£o, saber para qual lado guiar as suas propostas sobre esse tema.

Ent√£o, para obter as respostas das perguntas acima, voc√™ tem duas possibilidades: a primeira consiste em entrevistar toda a popula√ß√£o acerca das perguntas mencionadas. Essa sa√≠da n√£o nos deixaria d√∫vidas sobre como o trabalho informal se distribui entre os habitantes do nosso pa√≠s; contudo, √© uma alternativa complexa: imagine o tempo e o custo que seriam gastos para entrevistar todos os habitantes do nosso pa√≠s! A outra possibilidade consiste em selecionar uma amostra dessa popula√ß√£o e realizar as entrevistas, reduzindo drasticamente o custo e o tempo demandados para obter os dados que podem nos ajudar na tomada de decis√£o. Todavia, uma amostra da popula√ß√£o n√£o √© a popula√ß√£o... E lembre-se: voc√™, como l√≠der de um pa√≠s, precisa pensar em pol√≠ticas p√∫blicas que v√£o ajudar *todos* os habitantes!

Ent√£o, como podemos, a partir de uma amostra, chegar em uma conclus√£o sobre a popula√ß√£o? A resposta est√° na **Infer√™ncia Estat√≠stica**! De forma simplificada, a Infer√™ncia Estat√≠stica √© o ramo da estat√≠stica respons√°vel por tirar conclus√µes sobre uma popula√ß√£o com base em informa√ß√µes extra√≠das de uma amostra. Dessa maneira, conseguimos estimar caracter√≠sticas de uma popula√ß√£o utilizando somente um amostra, facilitando o processo de entendimento da popula√ß√£o como um todo.

Como j√° disse acima, aprendi que para se entender conceitos abstratos em estat√≠stica, nada melhor do que simular uma popula√ß√£o para visualizar como os conceitos te√≥ricos se materializam em um exemplo concreto. Para isso, vamos continuar com o problema j√° estabelecido de que voc√™ √© o l√≠der de um pa√≠s e precisa entender como a renda obtida por trabalhos informais se distribui ao longo da popula√ß√£o. Come√ßaremos por simular a popula√ß√£o desse pa√≠s da seguinte maneita: o pa√≠s possui 1 milh√£o de habitantes com trabalho informal e a renda obtida pelo trabalho informal desses habitantes vem de uma distribui√ß√£o normal com m√©dia em R\$2375 e desvio-padr√£o de R\$1000.

‚ö†Ô∏è *A distribui√ß√£o normal n√£o √© a mais adequada para simular a renda de uma popula√ß√£o que, na pr√°tica, costuma ser assim√©trica e concentrada em faixas espec√≠ficas. Contudo, para facilitar a compreens√£o inicial, vamos us√°-la como ponto de partida.*

Abaixo, temos o c√≥digo usado para gerar nossa popula√ß√£o e temos uma tabela mostrando um exemplo de 5 indiv√≠duos da popula√ß√£o gerada. (Considere a coluna "id" como um identificador √∫nico de cada indiv√≠duo... como se fosse o CPF de cada pessoa, por exemplo.)

```{r echo = TRUE}
#| code-fold: false

# definindo o tamanho da popula√ß√£o
pop_size <- 1000000

set.seed(123)
population <- tibble(
  # id do indiv√≠duo
  id = 1:pop_size,
  # gerando os valores de sal√°rio informal, para uma popula√ß√£o com m√©dia de 2375 e desvio-padr√£o de 1000
  informal_sallary = rnorm(n = pop_size, mean = 2375, sd = 500)
)

# substituindo poss√≠veis valores negativos por 0 (n√£0 faz sentido um sal√°rio negativo)
population <- population |> 
  mutate(
    informal_sallary = if_else(informal_sallary < 0, 0, informal_sallary)
  )

```

```{r}

population |> 
  slice(
    1:5
  ) |> 
  mk_tbl(
    table_title = "Exemplo da popula√ß√£o gerada"
  )

```

<br> O histograma a seguir nos mostra como √© a distribui√ß√£o do sal√°rio informal para todos os habitantes desse nosso pa√≠s criado.

```{r}

mean_pop <- mean(population$informal_sallary)

population |> 
  ggplot(
    aes(
      x = informal_sallary
    )
  ) +
  geom_histogram() +
  geom_vline(
    aes(
      xintercept = mean_pop
    ), 
    color = "red", 
    linetype = "dashed", 
    #linewidth = 1.2
  ) +
  theme_bw() +
  labs(
    title = "Distribui√ß√£o do sal√°rio informal na popula√ß√£o"
  )

```

Sendo assim, se tiv√©ssemos tempo e dinheiro para entrevistar todos os habitantes do nosso pa√≠s, chegar√≠amos na conclus√£o de que a m√©dia do sal√°rio informal desses indiv√≠duos √© de **R\$`r round(mean(population$informal_sallary),2)`** (linha vermelha tracejada no gr√°fio acima), com um desvio-padr√£o de **R\$`r round(sd(population$informal_sallary),2)`**. Para come√ßar a formalizar um pouco o que estamos vendo, temos uma primeira defini√ß√£o importante: a m√©dia e o desvio-padr√£o (e quaisquer outras medidas descritivas da popula√ß√£o) s√£o chamados de *par√¢metros* da popula√ß√£o.

> üîé *Par√¢metros* de uma popula√ß√£o s√£o valores fixos e verdadeiros que descrevem caracter√≠sticas quantitativas dessa popula√ß√£o. Eles representam medidas que resumem algum aspecto da popula√ß√£o como um todo.

Como, em geral, nunca saberemos o valor real de um par√¢metro da popula√ß√£o (a n√£o ser que seja feita uma pesquisa em toda a popula√ß√£o), o melhor que podemos fazer √© utilizar t√©cnicas de Infer√™ncia Estat√≠stica para estimar esse valor. Dessa maneira, a partir de uma amostra extra√≠da dessa popula√ß√£o, utilizamos algum *estimador* para obter um valor que imaginamos ser pr√≥ximo o suficiente do valor real do par√¢metro. Aqui, chegamos em outra defini√ß√£o:

> üîé *Estimador* √© uma regra ou f√≥rmula que usamos para estimar um par√¢metro desconhecido de uma popula√ß√£o a partir dos dados de uma amostra. Dessa maneira, um *par√¢metro* √© um valor que descreve uma popula√ß√£o enquanto o *estimador* √© a regra que utiliza dados amostrais para tentar descobrir o valor desse par√¢metro.

```{r}

# c√≥digo simulando a amostragem com estimador viesado e nao viesado.

set.seed(123)

# Popula√ß√£o "verdadeira"
populacao <- rnorm(100000, mean = 50, sd = 10)  # m√©dia populacional = 50

# Fun√ß√£o para comparar dois estimadores
comparar_estimadores <- function(n_amostra, n_simulacoes = 1000) {
  medias_amostrais <- numeric(n_simulacoes)
  medias_enviesadas <- numeric(n_simulacoes)

  for (i in 1:n_simulacoes) {
    amostra <- sample(populacao, size = n_amostra, replace = FALSE)

    # Estimador n√£o viesado: m√©dia amostral
    medias_amostrais[i] <- mean(amostra)

    # Estimador enviesado (exemplo artificial): m√©dia sem o menor valor da amostra
    amostra_enviesada <- amostra[-which.min(amostra)]
    medias_enviesadas[i] <- mean(amostra_enviesada)
  }

  # Resultados
  cat("M√©dia populacional real:", mean(populacao), "\n")
  cat("M√©dia das m√©dias amostrais (n√£o viesado):", mean(medias_amostrais), "\n")
  cat("M√©dia das m√©dias enviesadas:", mean(medias_enviesadas), "\n")

  # Compara√ß√£o visual
  boxplot(
    medias_amostrais, medias_enviesadas,
    names = c("M√©dia Amostral", "M√©dia Enviesada"),
    main = "Compara√ß√£o de Estimadores",
    col = c("lightblue", "salmon")
  )
}

```